!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=77)}({77:function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3?arguments[3]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.r=o,this.ctx=r,this.draw()}var t,n,r;return t=e,(n=[{key:"move",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=this.x+e,this.y=this.y+t}},{key:"moveTo",value:function(e,t){this.x=e,this.y=t}},{key:"getPosition",value:function(){return[this.x,this.y]}},{key:"isInRange",value:function(e,t){var n=this.x,o=this.y,r=this.r;return e<n+r&&e>n-r&&t<o+r&&t>o-r}},{key:"draw",value:function(){var e=this.ctx,t=this.x,n=this.y,o=this.r;e.save(),e.beginPath(),e.arc(t,n,o,0,2*Math.PI),e.stroke(),e.restore()}}])&&o(t.prototype,n),r&&o(t,r),e}();function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.points=t,this.ctx=n,this.draw()}var t,n,o;return t=e,(n=[{key:"draw",value:function(){var e=this.ctx,t=this.points;e.save(),e.strokeStyle="black",e.strokeWidth=3,e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=0;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.stroke(),e.restore()}}])&&i(t.prototype,n),o&&i(t,o),e}();function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u,c,l=function(){function e(t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=o,this.height=r,this.ctx=i,this.draw()}var t,n,o;return t=e,(n=[{key:"draw",value:function(){var e=this.ctx,t=this.x,n=this.y,o=this.width,r=this.height;e.save(),e.strokeStyle="black",e.strokeWidth=3,e.beginPath(),e.rect(t,n,o,r),e.stroke(),e.restore()}}])&&s(t.prototype,n),o&&s(t,o),e}();function f(e){var t,n=[e.Point(20,20),e.Point(280,20),e.Point(280,280),e.Point(20,280)],o=(e.Rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),e.ctx.canvas);o.addEventListener("mousemove",function(o){if(console.log("event:mousemove"),void 0!==t){var r=o.pageX-this.offsetLeft,i=o.pageY-this.offsetTop;e.clean(),function(e,o){var r=n[t];r.x=e,r.y=o;var i=0===t?n[n.length-1]:n[t-1],a=t===n.length-1?n[0]:n[t+1];t%2==0&&(i.moveTo(r.x,i.y),a.moveTo(a.x,r.y)),t%2!=0&&(i.moveTo(i.x,r.y),a.moveTo(r.x,a.y))}(r,i),e.Rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y);for(var a=0;a<n.length;a++)n[a].draw()}}),o.addEventListener("mousedown",function(e){console.log("event:mousedown");var o=e.pageX-this.offsetLeft,r=e.pageY-this.offsetTop;t=function(e,t){for(var o,r=0;r<n.length;r++)if(n[r].isInRange(e,t)){o=r;break}return o}(o,r),console.log(o,r,t)}),o.addEventListener("mouseup",function(){console.log("event:mouseup"),t=void 0})}f((u=document.getElementById("draggable").getContext("2d"),c=u,{ctx:u,clean:function(){c.clearRect(0,0,300,300)},Point:function(e,t,n){return new r(e,t,n,c)},Polygon:function(e){return new a(e,c)},Rect:function(e,t,n,o){return new l(e,t,n,o,c)}}))}});